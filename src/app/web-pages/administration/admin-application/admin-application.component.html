<div class="container">
  <div class="card">
    <div class="card-body">
      <h1 class="card-title">Gestion des applications</h1>
      <form class="pure-form" [formGroup]="appliForm">


      <div class="input-group-append" *ngFor="let application of applications">

        <h4>Application à mettre à jour :  </h4>
      <h5>  {{application?.id}}  </h5>
        <div class="form-group">
          <input type="text" class="form-control" id="libelle" formControlName="libelle" placeholder="libelle"/>
        </div>
          <div class="form-group">
            <select name="type" id="type" formControlName="type">
              <option selected>Sélection</option>
              <option value="HTTP">HTTP</option>
              <option value="SGDB">SGDB</option>
            </select>
          </div>

<!--            <button type="submit" class="btn btn-secondary">valider</button>-->
        <button type="submit" class="btn btn-secondary btn-lg btn-block col-md-2" (click)="openModal(template)">Valider</button>
        <br><br>
        <!--      <pre class="card card-block card-header">{{message}}</pre>-->
        <ng-template #template>
          <div class="modal-body text-center">
            <p>Confirmez-vous la modification ? </p>
            <button type="button" class="btn btn-default" (click)="miseAJourAppli(success)" >Oui</button>
            <button type="button" class="btn btn-primary" (click)="decline(annule)" >Non</button>
          </div>

        </ng-template>
        <ng-template #success ><alert type="info" dismissOnTimeout="2000">
          <strong> Modifications confirmées ! </strong>
        </alert></ng-template>
        <ng-template #annule><alert type="warning" dismissOnTimeout="2000">
          <strong> Opération annulée ! </strong>
        </alert></ng-template>
  </div>
      </form>
      <form class="pure-form" [formGroup]="nouvelleApplication" (ngSubmit)="ajoutApplication()">
        <div class="form-group">
          <input type="text" class="form-control" id="idApp" formControlName="id" placeholder="ID Application">
        </div>
        <div class="form-group">
          <input type="text" class="form-control" id="libelleApp" formControlName="libelle" placeholder="Libelle de l'application">
        </div>
        <div class="form-group">
          <select name="type" id="typeApp" formControlName="type">
            <option selected>Sélection</option>
            <option value="HTTP">HTTP</option>
            <option value="SGDB">SGDB</option>
          </select>
        </div>
        <button type="submit" class="btn btn-secondary">Ajouter application</button>

      </form>
</div>
</div>
</div>
